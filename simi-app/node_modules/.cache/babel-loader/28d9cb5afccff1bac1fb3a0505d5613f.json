{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Development/SIMI/simi-app/src/pages/RequestService/ModalFormRequest.js\";\nimport React, { useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Input, Label } from '@windmill/react-ui';\nimport { Timestamp } from 'firebase/firestore';\nimport Swal from 'sweetalert2';\nimport { requestsServices } from '../../services/requests';\n\nfunction ModalFormRequest(_ref) {\n  let {\n    closeModal,\n    isModalOpen,\n    id,\n    data\n  } = _ref;\n  const {\n    register,\n    handleSubmit,\n    reset\n  } = useForm({\n    defaultValues: data\n  });\n\n  const onSubmit = value => {\n    const dataRequest = {\n      createdAt: Timestamp.now()\n    };\n\n    try {\n      if (id == null) {\n        Swal.fire({\n          title: 'Do you want to save the New Request Service?',\n          showDenyButton: false,\n          showCancelButton: true,\n          confirmButtonText: 'Save'\n        }).then(result => {\n          /* Read more about isConfirmed, isDenied below */\n          if (result.isConfirmed) {\n            requestsServices.add(dataRequest);\n            Swal.fire('Saved!', '', 'success').then(() => window.location.reload());\n            closeModal();\n          }\n        });\n      } else {\n        Swal.fire({\n          title: 'Do you want to save the changes?',\n          showDenyButton: true,\n          showCancelButton: true,\n          confirmButtonText: 'Save',\n          denyButtonText: `Don't save`\n        }).then(result => {\n          /* Read more about isConfirmed, isDenied below */\n          if (result.isConfirmed) {\n            // requestsServices.update(id, {\n            //     roleName: value.roleName,\n            //     description: value.description,\n            // })\n            Swal.fire('Saved!', '', 'success').then(() => window.location.reload());\n            closeModal();\n          } else if (result.isDenied) {\n            Swal.fire('Changes are not saved', '', 'info');\n            closeModal();\n          }\n        });\n      }\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  useEffect(() => {\n    reset(data);\n  }, [reset, data]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isModalOpen,\n    onClose: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Form Data Request\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hidden sm:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    layout: \"outline\",\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hidden sm:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  }, \"Save\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block w-full sm:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    size: \"large\",\n    layout: \"outline\",\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block w-full sm:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    size: \"large\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, \"Save\"))))));\n}\n\nexport default ModalFormRequest;","map":{"version":3,"names":["React","useEffect","useForm","Modal","ModalHeader","ModalBody","ModalFooter","Button","Input","Label","Timestamp","Swal","requestsServices","ModalFormRequest","closeModal","isModalOpen","id","data","register","handleSubmit","reset","defaultValues","onSubmit","value","dataRequest","createdAt","now","fire","title","showDenyButton","showCancelButton","confirmButtonText","then","result","isConfirmed","add","window","location","reload","denyButtonText","isDenied","err","alert"],"sources":["/Users/macbook/Development/SIMI/simi-app/src/pages/RequestService/ModalFormRequest.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Input, Label } from '@windmill/react-ui'\nimport { Timestamp } from 'firebase/firestore'\nimport Swal from 'sweetalert2'\nimport { requestsServices } from '../../services/requests'\n\nfunction ModalFormRequest({ closeModal, isModalOpen, id, data }) {\n    const { register, handleSubmit, reset } = useForm({ defaultValues: data })\n\n    const onSubmit = (value) => {\n        const dataRequest = {\n            \n            createdAt: Timestamp.now()\n        }\n        try {\n            if (id == null) {\n                Swal.fire({\n                    title: 'Do you want to save the New Request Service?',\n                    showDenyButton: false,\n                    showCancelButton: true,\n                    confirmButtonText: 'Save',\n                }).then((result) => {\n                    /* Read more about isConfirmed, isDenied below */\n                    if (result.isConfirmed) {\n                        requestsServices.add(dataRequest)\n                        Swal.fire('Saved!', '', 'success')\n                            .then(() => window.location.reload())\n                        closeModal()\n                    }\n                })\n            } else {\n                Swal.fire({\n                    title: 'Do you want to save the changes?',\n                    showDenyButton: true,\n                    showCancelButton: true,\n                    confirmButtonText: 'Save',\n                    denyButtonText: `Don't save`,\n                }).then((result) => {\n                    /* Read more about isConfirmed, isDenied below */\n                    if (result.isConfirmed) {\n                        // requestsServices.update(id, {\n                        //     roleName: value.roleName,\n                        //     description: value.description,\n                        // })\n                        Swal.fire('Saved!', '', 'success')\n                            .then(() => window.location.reload())\n                        closeModal()\n                    } else if (result.isDenied) {\n                        Swal.fire('Changes are not saved', '', 'info')\n                        closeModal()\n                    }\n                })\n            }\n        } catch (err) {\n            alert(err)\n        }\n    }\n\n    useEffect(() => {\n      reset(data)\n    }, [reset, data])\n\n    return (\n        <>\n            <Modal isOpen={isModalOpen} onClose={closeModal}>\n                <ModalHeader>Form Data Request</ModalHeader>\n                <form onSubmit={handleSubmit(onSubmit)}>\n                    <ModalBody>\n                        {/* <Label>\n                            <span>Role Name<small className='text-red-600'>*</small></span>\n                            <Input\n                                className=\"mt-1\"\n                                placeholder=\"Type here...\"\n                                required\n                                {...register(\"roleName\")}\n                            />\n                        </Label>\n                        <Label className=\"mt-3\">\n                            <span>Description<small className='text-red-600'>*</small></span>\n                            <Input\n                                className=\"mt-1\"\n                                placeholder=\"Type here...\"\n                                required\n                                {...register(\"description\")}\n                            />\n                        </Label> */}\n                    </ModalBody>\n                    <ModalFooter>\n                        {/* I don't like this approach. Consider passing a prop to ModalFooter\n                        * that if present, would duplicate the buttons in a way similar to this.\n                        * Or, maybe find some way to pass something like size=\"large md:regular\"\n                        * to Button\n                        */}\n                        <div className=\"hidden sm:block\">\n                            <Button layout=\"outline\" onClick={closeModal}>\n                                Cancel\n                            </Button>\n                        </div>\n                        <div className=\"hidden sm:block\">\n                            <Button type=\"submit\" >Save</Button>\n                        </div>\n                        <div className=\"block w-full sm:hidden\">\n                            <Button block size=\"large\" layout=\"outline\" onClick={closeModal}>\n                                Cancel\n                            </Button>\n                        </div>\n                        <div className=\"block w-full sm:hidden\">\n                            <Button block size=\"large\" type=\"submit\">\n                                Save\n                            </Button>\n                        </div>\n                    </ModalFooter>\n                </form>\n            </Modal>\n        </>\n    )\n}\n\nexport default ModalFormRequest"],"mappings":"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"},"metadata":{},"sourceType":"module"}