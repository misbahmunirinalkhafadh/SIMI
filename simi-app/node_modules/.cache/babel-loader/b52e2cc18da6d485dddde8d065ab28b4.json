{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Development/SIMI/simi-app/src/pages/Manage/ModalFormRole.js\";\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Input, Label } from '@windmill/react-ui';\nimport { Timestamp } from 'firebase/firestore';\nimport { rolesServices } from '../../services/roles';\nimport Swal from 'sweetalert2';\n\nfunction ModalFormRole(_ref) {\n  let {\n    closeModal,\n    id,\n    roleName,\n    desc,\n    isModalOpen\n  } = _ref;\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n\n  const onSubmit = value => {\n    const dataRole = {\n      roleName: value.roleName,\n      description: value.description,\n      priviledges: [{\n        permission: 'Home',\n        view: false,\n        add: false,\n        edit: false,\n        delete: false\n      }, {\n        permission: 'Dashboard',\n        view: false,\n        add: false,\n        edit: false,\n        delete: false\n      }, {\n        permission: 'Assets',\n        view: false,\n        add: false,\n        edit: false,\n        delete: false\n      }, {\n        permission: 'Request',\n        view: false,\n        add: false,\n        edit: false,\n        delete: false\n      }, {\n        permission: 'Manage',\n        view: false,\n        add: false,\n        edit: false,\n        delete: false\n      }],\n      createdAt: Timestamp.now()\n    };\n\n    try {\n      if (id === null) {\n        Swal.fire({\n          title: 'Do you want to save the New Role?',\n          showDenyButton: false,\n          showCancelButton: true,\n          confirmButtonText: 'Save'\n        }).then(result => {\n          /* Read more about isConfirmed, isDenied below */\n          if (result.isConfirmed) {\n            rolesServices.add(dataRole);\n            Swal.fire('Saved!', '', 'success').then(() => window.location.reload());\n            closeModal();\n          }\n        });\n      } else {\n        Swal.fire({\n          title: 'Do you want to save the changes?',\n          showDenyButton: true,\n          showCancelButton: true,\n          confirmButtonText: 'Save',\n          denyButtonText: `Don't save`\n        }).then(result => {\n          /* Read more about isConfirmed, isDenied below */\n          if (result.isConfirmed) {\n            rolesServices.update(id, {\n              roleName: value.roleName,\n              description: value.description\n            });\n            Swal.fire('Saved!', '', 'success').then(() => window.location.reload());\n            closeModal();\n          } else if (result.isDenied) {\n            Swal.fire('Changes are not saved', '', 'info');\n            closeModal();\n          }\n        });\n      }\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isModalOpen,\n    onClose: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \"Form Data Role\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  }, \"Role Name\", /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-red-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 44\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(Input, Object.assign({\n    name: \"roleName\",\n    id: \"roleName\",\n    className: \"mt-1\",\n    placeholder: \"Type here...\",\n    required: true,\n    defaultValue: roleName\n  }, register(\"roleName\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Label, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, \"Description\", /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-red-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 46\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(Input, Object.assign({\n    name: \"description\",\n    id: \"description\",\n    className: \"mt-1\",\n    placeholder: \"Type here...\",\n    required: true,\n    defaultValue: desc\n  }, register(\"description\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hidden sm:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    layout: \"outline\",\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 29\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hidden sm:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, \"Save\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block w-full sm:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    size: \"large\",\n    layout: \"outline\",\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block w-full sm:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    size: \"large\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }, \"Save\"))))));\n}\n\nexport default ModalFormRole;","map":{"version":3,"names":["React","useForm","Modal","ModalHeader","ModalBody","ModalFooter","Button","Input","Label","Timestamp","rolesServices","Swal","ModalFormRole","closeModal","id","roleName","desc","isModalOpen","register","handleSubmit","onSubmit","value","dataRole","description","priviledges","permission","view","add","edit","delete","createdAt","now","fire","title","showDenyButton","showCancelButton","confirmButtonText","then","result","isConfirmed","window","location","reload","denyButtonText","update","isDenied","err","alert"],"sources":["/Users/macbook/Development/SIMI/simi-app/src/pages/Manage/ModalFormRole.js"],"sourcesContent":["import React from 'react'\nimport { useForm } from 'react-hook-form'\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Input, Label } from '@windmill/react-ui'\nimport { Timestamp } from 'firebase/firestore'\nimport { rolesServices } from '../../services/roles'\nimport Swal from 'sweetalert2'\n\nfunction ModalFormRole({ closeModal, id, roleName, desc, isModalOpen }) {\n    const { register, handleSubmit } = useForm()\n\n    const onSubmit = (value) => {\n        const dataRole = {\n            roleName: value.roleName,\n            description: value.description,\n            priviledges: [\n                {\n                    permission: 'Home',\n                    view: false,\n                    add: false,\n                    edit: false,\n                    delete: false,\n                },\n                {\n                    permission: 'Dashboard',\n                    view: false,\n                    add: false,\n                    edit: false,\n                    delete: false,\n                },\n                {\n                    permission: 'Assets',\n                    view: false,\n                    add: false,\n                    edit: false,\n                    delete: false,\n                },\n                {\n                    permission: 'Request',\n                    view: false,\n                    add: false,\n                    edit: false,\n                    delete: false,\n                },\n                {\n                    permission: 'Manage',\n                    view: false,\n                    add: false,\n                    edit: false,\n                    delete: false,\n                },\n            ],\n            createdAt: Timestamp.now()\n        }\n        try {\n            if (id === null) {\n                Swal.fire({\n                    title: 'Do you want to save the New Role?',\n                    showDenyButton: false,\n                    showCancelButton: true,\n                    confirmButtonText: 'Save',\n                }).then((result) => {\n                    /* Read more about isConfirmed, isDenied below */\n                    if (result.isConfirmed) {\n                        rolesServices.add(dataRole)\n                        Swal.fire('Saved!', '', 'success')\n                            .then(() => window.location.reload())\n                        closeModal()\n                    }\n                })\n            } else {\n                Swal.fire({\n                    title: 'Do you want to save the changes?',\n                    showDenyButton: true,\n                    showCancelButton: true,\n                    confirmButtonText: 'Save',\n                    denyButtonText: `Don't save`,\n                }).then((result) => {\n                    /* Read more about isConfirmed, isDenied below */\n                    if (result.isConfirmed) {\n                        rolesServices.update(id, {\n                            roleName: value.roleName,\n                            description: value.description,\n                        })\n                        Swal.fire('Saved!', '', 'success')\n                            .then(() => window.location.reload())\n                        closeModal()\n                    } else if (result.isDenied) {\n                        Swal.fire('Changes are not saved', '', 'info')\n                        closeModal()\n                    }\n                })\n            }\n        } catch (err) {\n            alert(err)\n        }\n    }\n\n    return (\n        <>\n            <Modal isOpen={isModalOpen} onClose={closeModal}>\n                <ModalHeader>Form Data Role</ModalHeader>\n                <form onSubmit={handleSubmit(onSubmit)}>\n                    <ModalBody>\n                        <Label>\n                            <span>Role Name<small className='text-red-600'>*</small></span>\n                            <Input\n                                name=\"roleName\"\n                                id=\"roleName\"\n                                className=\"mt-1\"\n                                placeholder=\"Type here...\"\n                                required\n                                defaultValue={roleName}\n                                {...register(\"roleName\")}\n                            />\n                        </Label>\n                        <Label className=\"mt-3\">\n                            <span>Description<small className='text-red-600'>*</small></span>\n                            <Input\n                                name=\"description\"\n                                id=\"description\"\n                                className=\"mt-1\"\n                                placeholder=\"Type here...\"\n                                required\n                                defaultValue={desc}\n                                {...register(\"description\")}\n                            />\n                        </Label>\n                    </ModalBody>\n                    <ModalFooter>\n                        {/* I don't like this approach. Consider passing a prop to ModalFooter\n                        * that if present, would duplicate the buttons in a way similar to this.\n                        * Or, maybe find some way to pass something like size=\"large md:regular\"\n                        * to Button\n                        */}\n                        <div className=\"hidden sm:block\">\n                            <Button layout=\"outline\" onClick={closeModal}>\n                                Cancel\n                            </Button>\n                        </div>\n                        <div className=\"hidden sm:block\">\n                            <Button type=\"submit\" >Save</Button>\n                        </div>\n                        <div className=\"block w-full sm:hidden\">\n                            <Button block size=\"large\" layout=\"outline\" onClick={closeModal}>\n                                Cancel\n                            </Button>\n                        </div>\n                        <div className=\"block w-full sm:hidden\">\n                            <Button block size=\"large\" type=\"submit\">\n                                Save\n                            </Button>\n                        </div>\n                    </ModalFooter>\n                </form>\n            </Modal>\n        </>\n    )\n}\n\nexport default ModalFormRole"],"mappings":"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"},"metadata":{},"sourceType":"module"}