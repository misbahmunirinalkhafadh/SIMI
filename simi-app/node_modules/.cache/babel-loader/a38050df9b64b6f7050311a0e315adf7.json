{"ast":null,"code":"// import React, { useEffect, useState } from 'react'\n// import { Card, CardBody, Button, Input, Label, Select, Textarea } from '@windmill/react-ui'\n// import { useAuthState } from \"react-firebase-hooks/auth\";\n// import { PageTitle } from '../../components'\n// import { useForm } from 'react-hook-form'\n// import { assetsServices } from '../../services/assets'\n// import Swal from 'sweetalert2'\n// import { Timestamp } from 'firebase/firestore'\n// import { useHistory, useParams } from 'react-router-dom'\n// import { sitesServices } from '../../services/sites'\n// import { auth } from '../../utils/firebase';\n// function ITAsset() {\n//     const { id } = useParams();\n//     const [assetInfo, setAssetInfo] = useState({})\n//     const { register, handleSubmit, reset } = useForm()\n//     const [site, setSite] = useState([])\n//     const [disabled, setDisabled] = useState(true)\n//     const [requiredStatusDetail, setRequiredStatusDetail] = useState(false)\n//     const history = useHistory()\n//     const [user, loading, error] = useAuthState(auth);\n//     const handleChange = (e) => {\n//         if (e.target.value === \"In Use\") {\n//             setDisabled(false)\n//             setRequiredStatusDetail(true)\n//         } else {\n//             setDisabled(true)\n//             setRequiredStatusDetail(false)\n//         }\n//     }\n//     const onSubmit = (value) => {\n//         try {\n//             Swal.fire({\n//                 title: 'Do you want to save the changes?',\n//                 showDenyButton: true,\n//                 showCancelButton: true,\n//                 confirmButtonText: 'Save',\n//                 denyButtonText: `Don't save`,\n//             }).then((result) => {\n//                 /* Read more about isConfirmed, isDenied below */\n//                 if (result.isConfirmed) {\n//                     assetsServices.update(id, {\n//                         site: value.site,\n//                         salesOrder: value.salesOrder,\n//                         brand: value.brand,\n//                         model: value.model,\n//                         serialNumber: value.serialNumber.toUpperCase(),\n//                         category: value.category,\n//                         information: {\n//                             operatingSystem: value.operatingSystem,\n//                             processor: value.processor,\n//                             ram: value.ram.toUpperCase().replace(/\\s+/g, ''),\n//                             storageCapacity: value.storageCapacity.toUpperCase().replace(/\\s+/g, ''),\n//                             storageType: value.storageType\n//                         },\n//                         visibility: value.visibility,\n//                         status: value.status,\n//                         statusDetail: value.statusDetail,\n//                         description: value.description,\n//                         modifiedAt: Timestamp.now(),\n//                         modifiedBy: user.email\n//                     })\n//                     Swal.fire('Saved!', '', 'success')\n//                         .then(() => window.location.reload(history.replace('/app/assets')))\n//                 } else if (result.isDenied) {\n//                     Swal.fire('Changes are not saved', '', 'info')\n//                 }\n//             })\n//         } catch (err) {\n//             alert(err)\n//         }\n//     }\n//     useEffect(() => {\n//         if (loading) return;\n//     }, [loading])\n//     useEffect(() => {\n//         try {\n//             sitesServices.getAll().then(data => {\n//                 setSite(data)\n//             })\n//         } catch (error) {\n//             console.log(error)\n//         }\n//     }, [])\n//     useEffect(() => {\n//         try {\n//             assetsServices.getById(id).then(data => {\n//                 setAssetInfo(data.information)\n//                 reset(data)\n//                 if (data.status === \"In Use\") {\n//                     setDisabled(false)\n//                     setRequiredStatusDetail(true)\n//                 } else {\n//                     setDisabled(true)\n//                     setRequiredStatusDetail(false)\n//                 }\n//             })\n//         } catch (error) {\n//             console.log(error)\n//         }\n//     }, [id])\n//     return (\n//         <>\n//             <PageTitle>Form IT Asset</PageTitle>\n//             <form onSubmit={handleSubmit(onSubmit)}>\n//                 <div className=\"grid gap-6 mb-8 md:grid-cols-2\">\n//                     <Card>\n//                         <CardBody>\n//                             <p className=\"mb-4 font-semibold text-gray-600 dark:text-gray-300\">Asset Detail</p>\n//                             <Label>\n//                                 <span>Site<small className='text-red-600'>*</small></span>\n//                                 <Select className=\"mt-1\" required {...register(\"site\")} onChange={handleChange}>\n//                                     <option value=\"\" >-- Choose one --</option>\n//                                     {site.map((site, i) => (\n//                                         <option key={i} value={site.data.name}>{site.data.name}</option>\n//                                     ))}\n//                                 </Select>\n//                             </Label>\n//                             <Label className=\"mt-3\">\n//                                 <span>SO Number<small className='text-red-600'>*</small></span>\n//                                 <Input\n//                                     className=\"mt-1\"\n//                                     placeholder=\"Type here...\"\n//                                     required\n//                                     {...register(\"salesOrder\")}\n//                                 />\n//                             </Label>\n//                             <div className=\"grid col-gap-3 lg:grid-cols-2\">\n//                                 <Label className=\"mt-3\">\n//                                     <span>Brand<small className='text-red-600'>*</small></span>\n//                                     <Input\n//                                         className=\"mt-1\"\n//                                         placeholder=\"Type here...\"\n//                                         required\n//                                         {...register(\"brand\")}\n//                                     />\n//                                 </Label>\n//                                 <Label className=\"mt-3\">\n//                                     <span>Model<small className='text-red-600'>*</small></span>\n//                                     <Input\n//                                         className=\"mt-1\"\n//                                         placeholder=\"Type here...\"\n//                                         required\n//                                         {...register(\"model\")}\n//                                     />\n//                                 </Label>\n//                                 <Label className=\"mt-3\">\n//                                     <span>Serial Number<small className='text-red-600'>*</small></span>\n//                                     <Input\n//                                         className=\"mt-1\"\n//                                         placeholder=\"Type here...\"\n//                                         required\n//                                         {...register(\"serialNumber\")}\n//                                     />\n//                                 </Label>\n//                                 <Label className=\"mt-3\">\n//                                     <span>Category<small className='text-red-600'>*</small></span>\n//                                     <Select className=\"mt-1\" required {...register(\"category\")}>\n//                                         <option value=\"\" >-- Choose one --</option>\n//                                         <option value=\"Laptop\" >Laptop</option>\n//                                         <option value=\"Desktop\" >Desktop</option>\n//                                         <option value=\"Printer\" >Printer</option>\n//                                     </Select>\n//                                 </Label>\n//                                 <Label className=\"mt-3\">\n//                                     <span>Status<small className='text-red-600'>*</small></span>\n//                                     <Select className=\"mt-1\" required {...register(\"status\")} onChange={handleChange} >\n//                                         <option value=\"\" >-- Choose one --</option>\n//                                         <option value=\"Ready\" >Ready</option>\n//                                         <option value=\"In Use\" >In Use</option>\n//                                         <option value=\"Broken\" >Broken</option>\n//                                         <option value=\"On Service\" >On Service</option>\n//                                     </Select>\n//                                 </Label>\n//                                 <Label className=\"mt-3\">\n//                                     <span>Status Detail<small className='text-red-600'>*</small></span>\n//                                     <Select className=\"mt-1\" required={requiredStatusDetail} {...register(\"statusDetail\")} disabled={disabled} >\n//                                         <option value=\"\" >-- Choose one --</option>\n//                                         <option value=\"In Use Employee\" >In Use Employee</option>\n//                                         <option value=\"In Use Loan\" >In Use Loan</option>\n//                                         <option value=\"In Use Backup\" >In Use Backup</option>\n//                                     </Select>\n//                                 </Label>\n//                             </div>\n//                             <Label className=\"mt-3\">\n//                                 <span>Visibility<small className='text-red-600'>*</small></span>\n//                                 <Select className=\"mt-1\" required {...register(\"visibility\")} onChange={handleChange}>\n//                                     <option value=\"Unarchived\">Unarchived</option>\n//                                     <option value=\"Archived\" >Archived</option>\n//                                 </Select>\n//                             </Label>\n//                         </CardBody>\n//                     </Card>\n//                     <Card>\n//                         <CardBody>\n//                             <p className=\"mb-4 font-semibold text-gray-600 dark:text-gray-300\">Asset Information</p>\n//                             <Label className=\"mt-3\">\n//                                 <span>Operating System<small className='text-red-600'>*</small></span>\n//                                 <Input\n//                                     className=\"mt-1\"\n//                                     placeholder=\"Type here...\"\n//                                     defaultValue={assetInfo.operatingSystem}\n//                                     required\n//                                     {...register(\"operatingSystem\")}\n//                                 />\n//                             </Label>\n//                             <Label className=\"mt-3\">\n//                                 <span>Processor<small className='text-red-600'>*</small></span>\n//                                 <Input\n//                                     className=\"mt-1\"\n//                                     placeholder=\"Type here...\"\n//                                     defaultValue={assetInfo.processor}\n//                                     required\n//                                     {...register(\"processor\")}\n//                                 />\n//                             </Label>\n//                             <Label className=\"mt-3\">\n//                                 <span>RAM (GB)<small className='text-red-600'>*</small></span>\n//                                 <Input\n//                                     className=\"mt-1\"\n//                                     placeholder=\"Type here...\"\n//                                     defaultValue={assetInfo.ram}\n//                                     required\n//                                     {...register(\"ram\")}\n//                                 />\n//                             </Label>\n//                             <Label className=\"mt-3\">\n//                                 <span>Storage Capacity (GB)<small className='text-red-600'>*</small></span>\n//                                 <div className=\"relative mt-1 rounded-md shadow-sm\">\n//                                     <Input\n//                                         className=\"block w-full pl-48 mt-1\"\n//                                         placeholder=\"Type here...\"\n//                                         defaultValue={assetInfo.storageCapacity}\n//                                         required\n//                                         {...register(\"storageCapacity\")}\n//                                     />\n//                                     <div className=\"absolute inset-y-0 left-0 flex items-center\">\n//                                         <Select className=\"h-full py-0\" required defaultValue={assetInfo.storageType} {...register(\"storageType\")} >\n//                                             <option value=\"\" >-- Choose one --</option>\n//                                             <option value=\"SSD\" >SSD</option>\n//                                             <option value=\"HDD\" >HDD</option>\n//                                         </Select>\n//                                     </div>\n//                                 </div>\n//                             </Label>\n//                             <Label className=\"mt-3\">\n//                                 <span>Description</span>\n//                                 <Textarea className=\"mt-1\" rows=\"3\" placeholder=\"Enter description about asset\" {...register(\"description\")} />\n//                             </Label>\n//                         </CardBody>\n//                     </Card>\n//                 </div>\n//                 <div className=\"flex justify-center space-x-4 text-center\">\n//                     <Button layout=\"outline\" onClick={history.goBack}>Cancel</Button>\n//                     <Button type=\"submit\">Save</Button>\n//                 </div>\n//             </form>\n//         </>\n//     )\n// }\n// export default ITAsset","map":{"version":3,"names":[],"sources":["/Users/macbook/Development/SIMI/simi-app/src/pages/FormAsset/ITAsset.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react'\n// import { Card, CardBody, Button, Input, Label, Select, Textarea } from '@windmill/react-ui'\n// import { useAuthState } from \"react-firebase-hooks/auth\";\n\n// import { PageTitle } from '../../components'\n// import { useForm } from 'react-hook-form'\n// import { assetsServices } from '../../services/assets'\n// import Swal from 'sweetalert2'\n// import { Timestamp } from 'firebase/firestore'\n// import { useHistory, useParams } from 'react-router-dom'\n// import { sitesServices } from '../../services/sites'\n// import { auth } from '../../utils/firebase';\n\n// function ITAsset() {\n//     const { id } = useParams();\n//     const [assetInfo, setAssetInfo] = useState({})\n//     const { register, handleSubmit, reset } = useForm()\n\n//     const [site, setSite] = useState([])\n//     const [disabled, setDisabled] = useState(true)\n//     const [requiredStatusDetail, setRequiredStatusDetail] = useState(false)\n//     const history = useHistory()\n//     const [user, loading, error] = useAuthState(auth);\n\n//     const handleChange = (e) => {\n//         if (e.target.value === \"In Use\") {\n//             setDisabled(false)\n//             setRequiredStatusDetail(true)\n//         } else {\n//             setDisabled(true)\n//             setRequiredStatusDetail(false)\n//         }\n//     }\n\n//     const onSubmit = (value) => {\n//         try {\n//             Swal.fire({\n//                 title: 'Do you want to save the changes?',\n//                 showDenyButton: true,\n//                 showCancelButton: true,\n//                 confirmButtonText: 'Save',\n//                 denyButtonText: `Don't save`,\n//             }).then((result) => {\n//                 /* Read more about isConfirmed, isDenied below */\n//                 if (result.isConfirmed) {\n//                     assetsServices.update(id, {\n//                         site: value.site,\n//                         salesOrder: value.salesOrder,\n//                         brand: value.brand,\n//                         model: value.model,\n//                         serialNumber: value.serialNumber.toUpperCase(),\n//                         category: value.category,\n//                         information: {\n//                             operatingSystem: value.operatingSystem,\n//                             processor: value.processor,\n//                             ram: value.ram.toUpperCase().replace(/\\s+/g, ''),\n//                             storageCapacity: value.storageCapacity.toUpperCase().replace(/\\s+/g, ''),\n//                             storageType: value.storageType\n//                         },\n//                         visibility: value.visibility,\n//                         status: value.status,\n//                         statusDetail: value.statusDetail,\n//                         description: value.description,\n//                         modifiedAt: Timestamp.now(),\n//                         modifiedBy: user.email\n//                     })\n//                     Swal.fire('Saved!', '', 'success')\n//                         .then(() => window.location.reload(history.replace('/app/assets')))\n//                 } else if (result.isDenied) {\n//                     Swal.fire('Changes are not saved', '', 'info')\n//                 }\n//             })\n//         } catch (err) {\n//             alert(err)\n//         }\n//     }\n\n//     useEffect(() => {\n//         if (loading) return;\n//     }, [loading])\n\n//     useEffect(() => {\n//         try {\n//             sitesServices.getAll().then(data => {\n//                 setSite(data)\n//             })\n//         } catch (error) {\n//             console.log(error)\n//         }\n//     }, [])\n\n//     useEffect(() => {\n//         try {\n//             assetsServices.getById(id).then(data => {\n//                 setAssetInfo(data.information)\n//                 reset(data)\n//                 if (data.status === \"In Use\") {\n//                     setDisabled(false)\n//                     setRequiredStatusDetail(true)\n//                 } else {\n//                     setDisabled(true)\n//                     setRequiredStatusDetail(false)\n//                 }\n//             })\n//         } catch (error) {\n//             console.log(error)\n//         }\n//     }, [id])\n\n//     return (\n//         <>\n//             <PageTitle>Form IT Asset</PageTitle>\n\n//             <form onSubmit={handleSubmit(onSubmit)}>\n//                 <div className=\"grid gap-6 mb-8 md:grid-cols-2\">\n//                     <Card>\n//                         <CardBody>\n//                             <p className=\"mb-4 font-semibold text-gray-600 dark:text-gray-300\">Asset Detail</p>\n//                             <Label>\n//                                 <span>Site<small className='text-red-600'>*</small></span>\n//                                 <Select className=\"mt-1\" required {...register(\"site\")} onChange={handleChange}>\n//                                     <option value=\"\" >-- Choose one --</option>\n//                                     {site.map((site, i) => (\n//                                         <option key={i} value={site.data.name}>{site.data.name}</option>\n//                                     ))}\n//                                 </Select>\n//                             </Label>\n//                             <Label className=\"mt-3\">\n//                                 <span>SO Number<small className='text-red-600'>*</small></span>\n//                                 <Input\n//                                     className=\"mt-1\"\n//                                     placeholder=\"Type here...\"\n//                                     required\n//                                     {...register(\"salesOrder\")}\n//                                 />\n//                             </Label>\n//                             <div className=\"grid col-gap-3 lg:grid-cols-2\">\n//                                 <Label className=\"mt-3\">\n//                                     <span>Brand<small className='text-red-600'>*</small></span>\n//                                     <Input\n//                                         className=\"mt-1\"\n//                                         placeholder=\"Type here...\"\n//                                         required\n//                                         {...register(\"brand\")}\n//                                     />\n//                                 </Label>\n//                                 <Label className=\"mt-3\">\n//                                     <span>Model<small className='text-red-600'>*</small></span>\n//                                     <Input\n//                                         className=\"mt-1\"\n//                                         placeholder=\"Type here...\"\n//                                         required\n//                                         {...register(\"model\")}\n//                                     />\n//                                 </Label>\n//                                 <Label className=\"mt-3\">\n//                                     <span>Serial Number<small className='text-red-600'>*</small></span>\n//                                     <Input\n//                                         className=\"mt-1\"\n//                                         placeholder=\"Type here...\"\n//                                         required\n//                                         {...register(\"serialNumber\")}\n//                                     />\n//                                 </Label>\n//                                 <Label className=\"mt-3\">\n//                                     <span>Category<small className='text-red-600'>*</small></span>\n//                                     <Select className=\"mt-1\" required {...register(\"category\")}>\n//                                         <option value=\"\" >-- Choose one --</option>\n//                                         <option value=\"Laptop\" >Laptop</option>\n//                                         <option value=\"Desktop\" >Desktop</option>\n//                                         <option value=\"Printer\" >Printer</option>\n//                                     </Select>\n//                                 </Label>\n//                                 <Label className=\"mt-3\">\n//                                     <span>Status<small className='text-red-600'>*</small></span>\n//                                     <Select className=\"mt-1\" required {...register(\"status\")} onChange={handleChange} >\n//                                         <option value=\"\" >-- Choose one --</option>\n//                                         <option value=\"Ready\" >Ready</option>\n//                                         <option value=\"In Use\" >In Use</option>\n//                                         <option value=\"Broken\" >Broken</option>\n//                                         <option value=\"On Service\" >On Service</option>\n//                                     </Select>\n//                                 </Label>\n//                                 <Label className=\"mt-3\">\n//                                     <span>Status Detail<small className='text-red-600'>*</small></span>\n//                                     <Select className=\"mt-1\" required={requiredStatusDetail} {...register(\"statusDetail\")} disabled={disabled} >\n//                                         <option value=\"\" >-- Choose one --</option>\n//                                         <option value=\"In Use Employee\" >In Use Employee</option>\n//                                         <option value=\"In Use Loan\" >In Use Loan</option>\n//                                         <option value=\"In Use Backup\" >In Use Backup</option>\n//                                     </Select>\n//                                 </Label>\n//                             </div>\n//                             <Label className=\"mt-3\">\n//                                 <span>Visibility<small className='text-red-600'>*</small></span>\n//                                 <Select className=\"mt-1\" required {...register(\"visibility\")} onChange={handleChange}>\n//                                     <option value=\"Unarchived\">Unarchived</option>\n//                                     <option value=\"Archived\" >Archived</option>\n//                                 </Select>\n//                             </Label>\n//                         </CardBody>\n//                     </Card>\n\n//                     <Card>\n//                         <CardBody>\n//                             <p className=\"mb-4 font-semibold text-gray-600 dark:text-gray-300\">Asset Information</p>\n//                             <Label className=\"mt-3\">\n//                                 <span>Operating System<small className='text-red-600'>*</small></span>\n//                                 <Input\n//                                     className=\"mt-1\"\n//                                     placeholder=\"Type here...\"\n//                                     defaultValue={assetInfo.operatingSystem}\n//                                     required\n//                                     {...register(\"operatingSystem\")}\n//                                 />\n//                             </Label>\n//                             <Label className=\"mt-3\">\n//                                 <span>Processor<small className='text-red-600'>*</small></span>\n//                                 <Input\n//                                     className=\"mt-1\"\n//                                     placeholder=\"Type here...\"\n//                                     defaultValue={assetInfo.processor}\n//                                     required\n//                                     {...register(\"processor\")}\n//                                 />\n//                             </Label>\n//                             <Label className=\"mt-3\">\n//                                 <span>RAM (GB)<small className='text-red-600'>*</small></span>\n//                                 <Input\n//                                     className=\"mt-1\"\n//                                     placeholder=\"Type here...\"\n//                                     defaultValue={assetInfo.ram}\n//                                     required\n//                                     {...register(\"ram\")}\n//                                 />\n//                             </Label>\n//                             <Label className=\"mt-3\">\n//                                 <span>Storage Capacity (GB)<small className='text-red-600'>*</small></span>\n//                                 <div className=\"relative mt-1 rounded-md shadow-sm\">\n//                                     <Input\n//                                         className=\"block w-full pl-48 mt-1\"\n//                                         placeholder=\"Type here...\"\n//                                         defaultValue={assetInfo.storageCapacity}\n//                                         required\n//                                         {...register(\"storageCapacity\")}\n//                                     />\n//                                     <div className=\"absolute inset-y-0 left-0 flex items-center\">\n//                                         <Select className=\"h-full py-0\" required defaultValue={assetInfo.storageType} {...register(\"storageType\")} >\n//                                             <option value=\"\" >-- Choose one --</option>\n//                                             <option value=\"SSD\" >SSD</option>\n//                                             <option value=\"HDD\" >HDD</option>\n//                                         </Select>\n//                                     </div>\n//                                 </div>\n//                             </Label>\n//                             <Label className=\"mt-3\">\n//                                 <span>Description</span>\n//                                 <Textarea className=\"mt-1\" rows=\"3\" placeholder=\"Enter description about asset\" {...register(\"description\")} />\n//                             </Label>\n//                         </CardBody>\n//                     </Card>\n//                 </div>\n//                 <div className=\"flex justify-center space-x-4 text-center\">\n//                     <Button layout=\"outline\" onClick={history.goBack}>Cancel</Button>\n//                     <Button type=\"submit\">Save</Button>\n//                 </div>\n//             </form>\n//         </>\n//     )\n// }\n\n// export default ITAsset\n"],"mappings":"AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}