{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Development/SIMI/simi-app/src/pages/Manage/ModalFormRole.js\";\nimport React, { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Input, Label } from \"@windmill/react-ui\";\nimport { Timestamp } from \"firebase/firestore\";\nimport { rolesServices } from \"../../services/roles\";\nimport Swal from \"sweetalert2\";\n\nfunction ModalFormRole(_ref) {\n  let {\n    closeModal,\n    isModalOpen,\n    id,\n    data\n  } = _ref;\n  const {\n    register,\n    handleSubmit,\n    reset\n  } = useForm({\n    defaultValues: data\n  });\n\n  const onSubmit = value => {\n    const dataRole = {\n      roleName: value.roleName,\n      description: value.description,\n      priviledges: [{\n        permission: \"Home\",\n        view: false,\n        add: false,\n        edit: false,\n        delete: false\n      }, {\n        permission: \"Dashboard\",\n        view: false,\n        add: false,\n        edit: false,\n        delete: false\n      }, {\n        permission: \"Assets\",\n        view: false,\n        add: false,\n        edit: false,\n        delete: false\n      }, {\n        permission: \"Request\",\n        view: false,\n        add: false,\n        edit: false,\n        delete: false\n      }, {\n        permission: \"Manage\",\n        view: false,\n        add: false,\n        edit: false,\n        delete: false\n      }],\n      createdAt: Timestamp.now()\n    };\n\n    try {\n      if (id == null) {\n        Swal.fire({\n          title: \"Do you want to save the New Role?\",\n          showDenyButton: false,\n          showCancelButton: true,\n          confirmButtonText: \"Save\"\n        }).then(result => {\n          /* Read more about isConfirmed, isDenied below */\n          if (result.isConfirmed) {\n            rolesServices.add(dataRole);\n            Swal.fire(\"Saved!\", \"\", \"success\").then(() => window.location.reload());\n            closeModal();\n          }\n        });\n      } else {\n        Swal.fire({\n          title: \"Do you want to save the changes?\",\n          showDenyButton: true,\n          showCancelButton: true,\n          confirmButtonText: \"Save\",\n          denyButtonText: `Don't save`\n        }).then(result => {\n          /* Read more about isConfirmed, isDenied below */\n          if (result.isConfirmed) {\n            rolesServices.update(id, {\n              roleName: value.roleName,\n              description: value.description\n            });\n            Swal.fire(\"Saved!\", \"\", \"success\").then(() => window.location.reload());\n            closeModal();\n          } else if (result.isDenied) {\n            Swal.fire(\"Changes are not saved\", \"\", \"info\");\n            closeModal();\n          }\n        });\n      }\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  useEffect(() => {\n    reset(data);\n  }, [reset, data]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isModalOpen,\n    onClose: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, \"Form Data Role\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Role Name\", /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-red-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 26\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(Input, Object.assign({\n    className: \"mt-1\",\n    placeholder: \"Type here...\",\n    required: true\n  }, register(\"roleName\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Label, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, \"Description\", /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-red-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 28\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(Input, Object.assign({\n    className: \"mt-1\",\n    placeholder: \"Type here...\",\n    required: true\n  }, register(\"description\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hidden sm:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    layout: \"outline\",\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hidden sm:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, \"Save\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block w-full sm:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    size: \"large\",\n    layout: \"outline\",\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"block w-full sm:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    size: \"large\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, \"Save\"))))));\n}\n\nexport default ModalFormRole;","map":{"version":3,"names":["React","useEffect","useForm","Modal","ModalHeader","ModalBody","ModalFooter","Button","Input","Label","Timestamp","rolesServices","Swal","ModalFormRole","closeModal","isModalOpen","id","data","register","handleSubmit","reset","defaultValues","onSubmit","value","dataRole","roleName","description","priviledges","permission","view","add","edit","delete","createdAt","now","fire","title","showDenyButton","showCancelButton","confirmButtonText","then","result","isConfirmed","window","location","reload","denyButtonText","update","isDenied","err","alert"],"sources":["/Users/macbook/Development/SIMI/simi-app/src/pages/Manage/ModalFormRole.js"],"sourcesContent":["import React, { useEffect } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  Input,\n  Label,\n} from \"@windmill/react-ui\"\nimport { Timestamp } from \"firebase/firestore\"\nimport { rolesServices } from \"../../services/roles\"\nimport Swal from \"sweetalert2\"\n\nfunction ModalFormRole({ closeModal, isModalOpen, id, data }) {\n  const { register, handleSubmit, reset } = useForm({ defaultValues: data })\n\n  const onSubmit = (value) => {\n    const dataRole = {\n      roleName: value.roleName,\n      description: value.description,\n      priviledges: [\n        {\n          permission: \"Home\",\n          view: false,\n          add: false,\n          edit: false,\n          delete: false,\n        },\n        {\n          permission: \"Dashboard\",\n          view: false,\n          add: false,\n          edit: false,\n          delete: false,\n        },\n        {\n          permission: \"Assets\",\n          view: false,\n          add: false,\n          edit: false,\n          delete: false,\n        },\n        {\n          permission: \"Request\",\n          view: false,\n          add: false,\n          edit: false,\n          delete: false,\n        },\n        {\n          permission: \"Manage\",\n          view: false,\n          add: false,\n          edit: false,\n          delete: false,\n        },\n      ],\n      createdAt: Timestamp.now(),\n    }\n    try {\n      if (id == null) {\n        Swal.fire({\n          title: \"Do you want to save the New Role?\",\n          showDenyButton: false,\n          showCancelButton: true,\n          confirmButtonText: \"Save\",\n        }).then((result) => {\n          /* Read more about isConfirmed, isDenied below */\n          if (result.isConfirmed) {\n            rolesServices.add(dataRole)\n            Swal.fire(\"Saved!\", \"\", \"success\").then(() =>\n              window.location.reload()\n            )\n            closeModal()\n          }\n        })\n      } else {\n        Swal.fire({\n          title: \"Do you want to save the changes?\",\n          showDenyButton: true,\n          showCancelButton: true,\n          confirmButtonText: \"Save\",\n          denyButtonText: `Don't save`,\n        }).then((result) => {\n          /* Read more about isConfirmed, isDenied below */\n          if (result.isConfirmed) {\n            rolesServices.update(id, {\n              roleName: value.roleName,\n              description: value.description,\n            })\n            Swal.fire(\"Saved!\", \"\", \"success\").then(() =>\n              window.location.reload()\n            )\n            closeModal()\n          } else if (result.isDenied) {\n            Swal.fire(\"Changes are not saved\", \"\", \"info\")\n            closeModal()\n          }\n        })\n      }\n    } catch (err) {\n      alert(err)\n    }\n  }\n\n  useEffect(() => {\n    reset(data)\n  }, [reset, data])\n\n  return (\n    <>\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\n        <ModalHeader>Form Data Role</ModalHeader>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <ModalBody>\n            <Label>\n              <span>\n                Role Name<small className=\"text-red-600\">*</small>\n              </span>\n              <Input\n                className=\"mt-1\"\n                placeholder=\"Type here...\"\n                required\n                {...register(\"roleName\")}\n              />\n            </Label>\n            <Label className=\"mt-3\">\n              <span>\n                Description<small className=\"text-red-600\">*</small>\n              </span>\n              <Input\n                className=\"mt-1\"\n                placeholder=\"Type here...\"\n                required\n                {...register(\"description\")}\n              />\n            </Label>\n          </ModalBody>\n          <ModalFooter>\n            {/* I don't like this approach. Consider passing a prop to ModalFooter\n             * that if present, would duplicate the buttons in a way similar to this.\n             * Or, maybe find some way to pass something like size=\"large md:regular\"\n             * to Button\n             */}\n            <div className=\"hidden sm:block\">\n              <Button layout=\"outline\" onClick={closeModal}>\n                Cancel\n              </Button>\n            </div>\n            <div className=\"hidden sm:block\">\n              <Button type=\"submit\">Save</Button>\n            </div>\n            <div className=\"block w-full sm:hidden\">\n              <Button block size=\"large\" layout=\"outline\" onClick={closeModal}>\n                Cancel\n              </Button>\n            </div>\n            <div className=\"block w-full sm:hidden\">\n              <Button block size=\"large\" type=\"submit\">\n                Save\n              </Button>\n            </div>\n          </ModalFooter>\n        </form>\n      </Modal>\n    </>\n  )\n}\n\nexport default ModalFormRole\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}